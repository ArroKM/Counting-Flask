<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>{{ title or "Counting People" }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='plugins/bootstrap/bootstrap.min.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="shortcut icon" href="{{ url_for('static', filename='images/fav.png') }}">

  <!-- jQuery -->
  <script src="{{ url_for('static', filename='assets/js/jquery-3.6.1.min.js') }}"></script>
</head>
<body data-zone="{{ zone }}">
  <div class="body-wrapper">
    <!-- Header -->
    <div class="p-2 shadow pl-5 pr-5">
      <div class="row no-gutters">
        <div class="col-6">
          <a class="navbar-brand" href="#">
            <img src="{{ url_for('static', filename='images/logo-ip3.png') }}" alt="Logo IP3">
          </a>
        </div>
        <div class="col-6 text-right mt-2 d-lg-none">
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="white" class="bi bi-list" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M2.5 12.5a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm0-4a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm0-4a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11z"/>
            </svg>
          </button>
        </div>
        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
          <ul class="navbar-nav text-center">
            <li class="nav-item"><a class="nav-link" href="/"><b>Zona Hijau</b></a></li>
            <li class="nav-item"><a class="nav-link" href="/merah"><b>Zona Merah</b></a></li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Judul -->
    <div class="container-fluid">
      <div class="row no-gutters mt-1">
        <div class="col-12 text-center">
          <h2 class="font-weight-bold mb-1">{{ title or "Counting People" }}</h2>
        </div>
      </div>
    </div>

    <!-- Waktu -->
    <div class="row no-gutters mt-1 px-2">
      <div class="col-12">
        <div class="card border-success bg-info text-center pt-1">
          <h4 class="text-white font-weight-bold">
            <span id="tanggalwaktu"></span> /
            <span id="jam"></span>:<span id="menit"></span>:<span id="detik"></span> WIB
          </h4>
        </div>
      </div>
    </div>

    <!-- IN / CURRENT / OUT -->
    <div class="container-fluid">
      <div class="row no-gutters p-1">
        <div class="col-md-4 p-1">
          <div class="card border-success bg-success text-center">
            <img src="{{ url_for('static', filename='images/person_white.png') }}" width="100" class="mx-auto d-block" alt="IN Icon">
            <h2 class="text-white font-weight-bold" id="totalin">0</h2>
            <h5 class="text-white font-weight-bold">MASUK</h5>
          </div>
        </div>
        <div class="col-md-4 p-1">
          <div class="card border-success bg-primary text-center">
            <img src="{{ url_for('static', filename='images/person_white.png') }}" width="100" class="mx-auto d-block" alt="CURRENT Icon">
            <h2 class="text-white font-weight-bold" id="totalcur">0</h2>
            <h5 class="text-white font-weight-bold">DI DALAM</h5>
          </div>
        </div>
        <div class="col-md-4 p-1">
          <div class="card border-success bg-danger text-center">
            <img src="{{ url_for('static', filename='images/person_white.png') }}" width="100" class="mx-auto d-block" alt="OUT Icon">
            <h2 class="text-white font-weight-bold" id="totalout">0</h2>
            <h5 class="text-white font-weight-bold">KELUAR</h5>
          </div>
        </div>
      </div>
    </div>

    <!-- Tabel -->
    <div class="container-fluid">
      <div class="card-body">
        <div id="offline-alert" class="alert alert-danger text-center" style="display: none;">
          ðŸ”´ Server sedang offline. Data tidak dapat diambil.
        </div>

        <div class="table-responsive">
          <table class="table table-borderless table-striped text-center bg-cover">
            <thead class="thead-light">
              <tr class="text-center align-middle">
                <th scope="col" class="text-center"><strong>DEPARTEMEN</strong></th>
                <th scope="col" class="text-center"><strong>MASUK</strong></th>
                <th scope="col" class="text-center"><strong>KELUAR</strong></th>
                <th scope="col" class="text-center"><strong>DI DALAM</strong></th>
              </tr>
            </thead>
            <tbody id="dept-table">
              <!-- Diisi oleh JS -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Script -->
  <script src="{{ url_for('static', filename='js/data.js') }}"></script>
  <script src="{{ url_for('static', filename='plugins/bootstrap/bootstrap.min.js') }}"></script>
</body>
</html>
